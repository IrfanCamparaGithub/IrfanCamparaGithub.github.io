<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Imports Storytelling Artifact</title>

    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Lexend', sans-serif;
            line-height: 1.65;
            margin: 0;
            padding: 0;
            background: #fafafa;
            color: #222;
        }
        nav {
            background: #ffffff;
            border-bottom: 1px solid #ddd;
            padding: 12px 20px;
            position: sticky;
            top: 0;
            z-index: 999;
        }
        nav a {
            margin-right: 22px;
            text-decoration: none;
            font-weight: 600;
            color: #003399;
            font-size: 15px;
        }
        nav a:hover {
            text-decoration: underline;
        }
        .container {
            max-width: 850px;
            margin: auto;
            padding: 30px;
        }
        h1, h2, h3 {
            font-family: 'Lexend', sans-serif;
            margin-top: 40px;
            line-height: 1.3;
            font-weight: 600;
        }
        .chart {
            margin: 40px 0;
        }
        img {
            max-width: 100%;
            display: block;
            margin: auto;
        }
        a {
            color: #0044aa;
        }
        #contrast-toggle {
            position: fixed;
            top: 15px;
            right: 15px;
            padding: 10px 14px;
            background: #000;
            color: #fff;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            z-index: 1000;
            opacity: 0.85;
        }
        #contrast-toggle:hover {
            opacity: 1;
        }
        #reader-toggle {
            position: fixed;
            top: 55px;
            right: 15px;
            padding: 10px 14px;
            background: #0044aa;
            color: #fff;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            z-index: 1000;
            opacity: 0.85;
        }
        #reader-toggle:hover {
            opacity: 1;
        }
        .high-contrast {
            background: #000 !important;
            color: #fff !important;
        }
        .high-contrast nav {
            background: #111 !important;
            border-bottom: 2px solid #fff !important;
        }
        .high-contrast nav a {
            color: #fff !important;
        }
        .high-contrast a {
            color: #ffff00 !important;
        }
        .high-contrast #reader-toggle {
            background: #444;
            color: #fff;
        }
        .header-image-container {
            text-align: center;
            margin-top: 20px;
        }
        .header-image-container img {
            width: 80%;
            border-radius: 10px;
        }
    </style>
</head>

<body>

<button id="contrast-toggle" aria-label="Toggle high contrast mode">High Contrast</button>
<button id="reader-toggle" aria-label="Toggle screen reader for main content">Read Page</button>

<nav>
    <a href="#title">Home</a>
    <a href="#data">Data Source</a>
    <a href="#food-origins">Food Origins Flow</a>
    <a href="#global-map">Global Import Map</a>
    <a href="#inflation">Food Price Inflation</a>
    <a href="#volume">Import Volume Over Time</a>
    <a href="#final">Final Remarks</a>
    <a href="#references">References</a>
</nav>

<div class="container" id="main-content">

    <div class="header-image-container">
        <img src="gettyimages-155415266_2.jpg" alt="Farming landscape">
    </div>

    <h1 id="title">How have Food Imports and Shipping Changed In Recent Years and Why Does it Contribute to Your Plate?</h1>

    <!-- unchanged content up to Sankey section -->

    <h2 id="food-origins">Where Does Your Food Really Come From?</h2>

    <p>To truly start understanding the complex U.S food system...</p>

    <div class="flourish-embed flourish-sankey" data-src="visualisation/26082792">
        <script src="https://public.flourish.studio/resources/embed.js"></script>
        <noscript><img src="https://public.flourish.studio/visualisation/26082792/thumbnail" width="100%" alt="sankey visualization" /></noscript>
    </div>

    <!-- unchanged content until map -->

    <h2 id="global-map">World Map For The Largest 3 Food Imports Into The United States:</h2>

    <div class="flourish-embed flourish-map" data-src="visualisation/26082533">
        <script src="https://public.flourish.studio/resources/embed.js"></script>
        <noscript><img src="https://public.flourish.studio/visualisation/26082533/thumbnail" width="100%" alt="map visualization" /></noscript>
    </div>

    <!-- unchanged content until inflation -->

    <h2 id="inflation">Inflation, Inflation, Inflation, How Food Prices Have Suffered From This Dreaded Term:</h2>

    <div class="flourish-embed flourish-chart" data-src="visualisation/26080754">
        <script src="https://public.flourish.studio/resources/embed.js"></script>
        <noscript><img src="https://public.flourish.studio/visualisation/26080754/thumbnail" width="100%" alt="chart visualization" /></noscript>
    </div>

    <!-- unchanged content until import volume -->

    <h2 id="volume">Import Volume Changes Over Time</h2>

    <div class="flourish-embed flourish-bar-chart-race" data-src="visualisation/26081763">
        <script src="https://public.flourish.studio/resources/embed.js"></script>
        <noscript><img src="https://public.flourish.studio/visualisation/26081763/thumbnail" width="100%" alt="bar-chart-race visualization" /></noscript>
    </div>

    <!-- unchanged content until final remarks -->

    <h2 id="final">Final Remarks:</h2>

    <p>Food is more than a daily need...</p>

    <h2 id="references">References:</h2>

    <p>
        Data Used: https://www.ers.usda.gov/data-products/us-food-imports<br>
        2008 Crash Reference: https://pmc.ncbi.nlm.nih.gov/articles/PMC8084260/ <br>
        2011 BioFuel Reference: https://www.nytimes.com/2011/04/07/science/earth/07cassava.html <br>
        2011 Dollar Weakness Reference: https://libertystreeteconomics.newyorkfed.org/2011/09/an-examination-of-us-dollar-declines/ <br>
        2011 Extreme Weather Reference: https://www.pbs.org/newshour/show/how-2011-became-a-mind-boggling-year-of-extreme-weather <br>
        2020 Covid Reference: https://www.cbo.gov/system/files/2024-09/60480-Inflation.pdf <br>
        2024 Cocoa Reference: https://compartes.com/blogs/journal/the-rising-cost-of-cocoa-and-tariffs-a-bitter-reality-for-the-u-s-chocolate-industry
    </p>

    <p>Transparency Note: Parts of this artifact...</p>

</div>

<script>
    const contrastBtn = document.getElementById("contrast-toggle");
    contrastBtn.addEventListener("click", () => {
        document.body.classList.toggle("high-contrast");
        contrastBtn.textContent = document.body.classList.contains("high-contrast")
            ? "Normal Mode"
            : "High Contrast";
    });

    const readerBtn = document.getElementById("reader-toggle");
    const mainContent = document.getElementById("main-content");
    let isReading = false;
    let utterance = null;

    if (!("speechSynthesis" in window)) {
        readerBtn.disabled = true;
        readerBtn.textContent = "Reading Not Supported";
    } else {
        readerBtn.addEventListener("click", () => {
            if (!isReading) {
                const text = mainContent.innerText;
                utterance = new SpeechSynthesisUtterance(text);
                window.speechSynthesis.cancel();
                window.speechSynthesis.speak(utterance);
                readerBtn.textContent = "Stop Reading";
                isReading = true;
                utterance.onend = () => {
                    isReading = false;
                    readerBtn.textContent = "Read Page";
                };
            } else {
                window.speechSynthesis.cancel();
                isReading = false;
                readerBtn.textContent = "Read Page";
            }
        });
    }
</script>

</body>
</html>
